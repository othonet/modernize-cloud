<div class="min-h-screen flex w-full">
    <!-- Left Section - Image with Logo -->
    <div class="hidden lg:flex lg:w-2/5 relative bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-800 overflow-hidden">
        <!-- Background Pattern -->
        <div class="absolute inset-0 opacity-20">
            <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.1\"%3E%3Cpath d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"></div>
        </div>
        
        <!-- Cloud Storage Illustration -->
        <div class="absolute inset-0 flex items-center justify-center opacity-30">
            <svg class="w-full h-full max-w-md max-h-md" viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- Cloud -->
                <path d="M200 120C180 120 160 130 150 145C140 130 120 120 100 120C70 120 50 140 50 170C50 200 70 220 100 220H300C330 220 350 200 350 170C350 140 330 120 300 120C290 105 270 95 250 95C230 95 210 105 200 120Z" fill="white" fill-opacity="0.3"/>
                <!-- Server/Storage Boxes -->
                <rect x="120" y="240" width="60" height="80" rx="5" fill="white" fill-opacity="0.2"/>
                <rect x="200" y="240" width="60" height="80" rx="5" fill="white" fill-opacity="0.2"/>
                <rect x="280" y="240" width="60" height="80" rx="5" fill="white" fill-opacity="0.2"/>
                <!-- Connection Lines -->
                <path d="M150 220 L150 240" stroke="white" stroke-width="2" stroke-opacity="0.3"/>
                <path d="M200 220 L200 240" stroke="white" stroke-width="2" stroke-opacity="0.3"/>
                <path d="M250 220 L250 240" stroke="white" stroke-width="2" stroke-opacity="0.3"/>
                <!-- Upload Arrow -->
                <path d="M200 80 L200 60 M190 70 L200 60 L210 70" stroke="white" stroke-width="3" stroke-opacity="0.4" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
        
        <!-- Content -->
        <div class="relative z-10 flex flex-col justify-between p-12 text-white">
            <!-- Logo -->
            <div>
                <div class="flex items-center space-x-3 mb-8">
                    <div class="w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"></path>
                        </svg>
                    </div>
                    <h1 class="text-2xl font-bold">Modernize Cloud</h1>
                </div>
            </div>
            
            <!-- Bottom Text -->
            <div>
                <p class="text-xl font-semibold mb-2">Acesse sua nuvem privada</p>
            </div>
        </div>
    </div>

    <!-- Right Section - Login Form -->
    <div class="w-full lg:w-3/5 flex items-center justify-center bg-gray-900 p-4 sm:p-8">
        <div class="w-full max-w-md">
            <div class="mb-6 sm:mb-8">
                <h2 class="text-2xl sm:text-4xl font-bold text-white mb-2">Acesso ao Sistema</h2>
                <p class="text-sm sm:text-base text-gray-400">Entre com suas credenciais para continuar</p>
            </div>

            <form id="loginForm" class="space-y-4 sm:space-y-6">
                <div>
                    <label for="username" class="block text-sm font-medium text-gray-300 mb-2">Usuário</label>
                    <input type="text" id="username" name="username" required 
                           class="w-full px-4 py-3 sm:py-3 bg-gray-800 border border-gray-700 rounded-lg text-base sm:text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" 
                           placeholder="nomeusuario" autocomplete="username">
                </div>

                <div>
                    <label for="password" class="block text-sm font-medium text-gray-300 mb-2">Senha</label>
                    <input type="password" id="password" name="password" required 
                           class="w-full px-4 py-3 sm:py-3 bg-gray-800 border border-gray-700 rounded-lg text-base sm:text-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" 
                           placeholder="••••••••">
                </div>

                <div id="errorMessage" class="hidden bg-red-900/50 border border-red-700 rounded-lg p-3 text-sm text-red-200"></div>

                <button type="submit" 
                        class="w-full px-4 py-3.5 sm:py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold text-base sm:text-sm rounded-lg hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all transform active:scale-[0.98] sm:hover:scale-[1.02]">
                    Entrar
                </button>
            </form>
        </div>
    </div>
</div>

<script>
document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const formData = new FormData(e.target);
    const data = Object.fromEntries(formData);
    
    const errorDiv = document.getElementById('errorMessage');
    errorDiv.classList.add('hidden');
    
    try {
        const response = await fetch('/auth/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });
        
        const result = await response.json();
        
        if (result.success) {
            window.location.href = '/';
        } else {
            errorDiv.textContent = result.error || 'Erro ao fazer login';
            errorDiv.classList.remove('hidden');
        }
    } catch (error) {
        errorDiv.textContent = 'Erro ao conectar com o servidor';
        errorDiv.classList.remove('hidden');
    }
});
</script>

